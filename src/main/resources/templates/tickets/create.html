<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">

<head>
	<th:block th:replace="~{fragments/fragments :: head}"></th:block>
	<title>New Ticket</title>
</head>

<body class="blue-background">
	<nav th:replace="~{fragments/navbar :: navbar}"></nav>
	<main class="container">
		<div class="row justify-content-center mb-5">
			<div class="col-lg-6 text-center">
				<h2>Ask ACME!</h2>
			</div>
		</div>
		<div class="row mb-5 justify-content-center">
			<div class="col-lg-6">
				<form method="post" th:object="${ticket}" th:action="@{/create}">
					<!--tiket-title-->
					<div class="mb-3">
						<label for="title" class="form-label">Title</label>
						<input type="text" class="form-control" id="title" th:field="*{title}" th:errorClass="is-invalid">
						<!-- title errors-->
						<div th:if="${#fields.hasErrors('title')}" class="invalid-feedback">
							<ul>
								<li th:each="err: ${#fields.errors('title')}" th:text="${err}"></li>
							</ul>
						</div>
					</div>

					<!--tiket-content-->
					<div class="mb-3">
						<label for="content" class="form-label">Describe the problem</label>
						<textarea class="form-control" id="content" rows="5" th:field="*{content}"
							th:errorclass="is-invalid"></textarea>
							<!-- content errors-->
							<div th:if="${#fields.hasErrors('content')}" class="invalid-feedback">
								<ul>
									<li th:each="err: ${#fields.errors('content')}" th:text="${err}"></li>
								</ul>
							</div>
					</div>

					<div class="row mb-3">
						<!--ticket-category-->
						<div class="col-6">
							<select class="form-select" aria-label="Default select example" th:field="*{priority}"
								id="category" th:errorclass="is-invalid">
								<option selected value="">Select Priority</option>
								<option value="low">Low</option>
								<option value="medium">Medium</option>
								<option value="high">High</option>
							</select>
							<!-- category errors-->
							<div th:if="${#fields.hasErrors('priority')}" class="invalid-feedback">
								<ul>
									<li th:each="err: ${#fields.errors('priority')}" th:text="${err}"></li>
								</ul>
							</div>
						</div>
						<!--ticket-user-->
						<div class="col-6">
							<select class="form-select" aria-label="Default select example" th:field="*{user}" id="user"
								th:errorclass="is-invalid">
								<option selected value="">Select Operator</option>
								<option th:each="user : ${users}" th:value="${user.id}">
									[[${user.name}]]</option>
							</select>
							<!-- user errors-->
							<div th:if="${#fields.hasErrors('user')}" class="invalid-feedback">
								<ul>
									<li th:each="err: ${#fields.errors('user')}" th:text="${err}"></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="d-flex justify-content-end">
						<button class="btn btn-success mx-2 border border-1 border-light" type="submit">Submit</button>
						<button class="btn btn-warning mx-2 border border-1 border-light" type="reset">Reset</button>
					</div>
				</form>
			</div>
		</div>

	</main>


	<script th:replace="~{fragments/fragments :: scripts}"></script>
</body>

</html>